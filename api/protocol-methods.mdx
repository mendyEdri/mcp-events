---
title: Protocol Methods
description: All JSON-RPC methods and notifications in the MCPE protocol.
---

MCPE uses standard MCP tools for client-to-server requests and MCP notifications for server-to-client event delivery. All messages follow the JSON-RPC 2.0 specification.

## Tools (Client → Server)

### `events_subscribe`

Create a new event subscription.

**Input:**
```json
{
  "filter": {
    "sources": ["github"],
    "eventTypes": ["github.issue.*"],
    "tags": ["bug"],
    "priority": ["high", "critical"]
  },
  "delivery": {
    "channels": ["realtime"]
  },
  "handler": {
    "type": "webhook",
    "url": "https://example.com/hook"
  },
  "expiresAt": "2025-02-01T00:00:00Z"
}
```

**Response:**
```json
{
  "subscriptionId": "550e8400-e29b-41d4-a716-446655440000",
  "status": "active",
  "filter": { ... },
  "delivery": { ... },
  "createdAt": "2025-01-15T10:00:00Z",
  "expiresAt": "2025-02-01T00:00:00Z"
}
```

---

### `events_unsubscribe`

Remove an existing subscription.

**Input:**
```json
{
  "subscriptionId": "550e8400-e29b-41d4-a716-446655440000"
}
```

**Response:**
```json
{
  "success": true
}
```

---

### `events_list`

List subscriptions for the current client.

**Input:**
```json
{
  "status": "active"
}
```

Status is optional. Valid values: `"active"`, `"paused"`, `"expired"`.

**Response:**
```json
{
  "subscriptions": [
    {
      "id": "550e8400-...",
      "status": "active",
      "filter": { "sources": ["github"] },
      "delivery": { "channels": ["realtime"] },
      "createdAt": "2025-01-15T10:00:00Z"
    }
  ]
}
```

---

### `events_pause`

Pause a subscription. Events stop being delivered but the subscription is preserved.

**Input:**
```json
{
  "subscriptionId": "550e8400-e29b-41d4-a716-446655440000"
}
```

**Response:**
```json
{
  "subscriptionId": "550e8400-e29b-41d4-a716-446655440000",
  "status": "paused"
}
```

---

### `events_resume`

Resume a paused subscription.

**Input:**
```json
{
  "subscriptionId": "550e8400-e29b-41d4-a716-446655440000"
}
```

**Response:**
```json
{
  "subscriptionId": "550e8400-e29b-41d4-a716-446655440000",
  "status": "active"
}
```

---

### `events_update`

Update a subscription's filter, delivery, or handler.

**Input:**
```json
{
  "subscriptionId": "550e8400-e29b-41d4-a716-446655440000",
  "filter": {
    "sources": ["github", "slack"],
    "priority": ["critical"]
  },
  "delivery": {
    "channels": ["cron"],
    "cronSchedule": {
      "expression": "0 9 * * *"
    }
  }
}
```

All fields except `subscriptionId` are optional. Only provided fields are updated.

**Response:**
```json
{
  "subscriptionId": "550e8400-...",
  "status": "active",
  "filter": { ... },
  "delivery": { ... },
  "createdAt": "2025-01-15T10:00:00Z"
}
```

---

## Notifications (Server → Client)

### `events/event`

Single event delivery. Sent for realtime subscriptions.

```json
{
  "jsonrpc": "2.0",
  "method": "events/event",
  "params": {
    "subscriptionId": "550e8400-...",
    "event": {
      "id": "evt-123",
      "type": "github.issue.opened",
      "data": {
        "title": "Bug report",
        "repo": "org/repo",
        "number": 42
      },
      "metadata": {
        "source": "github",
        "sourceEventId": "gh-789",
        "timestamp": "2025-01-15T10:30:00Z",
        "priority": "high",
        "tags": ["bug"]
      }
    }
  }
}
```

---

### `events/batch`

Batch event delivery. Sent for cron and scheduled subscriptions.

```json
{
  "jsonrpc": "2.0",
  "method": "events/batch",
  "params": {
    "subscriptionId": "550e8400-...",
    "events": [
      {
        "id": "evt-1",
        "type": "github.push",
        "data": { "repo": "org/repo", "branch": "main" },
        "metadata": { "source": "github", "priority": "normal", "timestamp": "..." }
      },
      {
        "id": "evt-2",
        "type": "github.push",
        "data": { "repo": "org/repo", "branch": "dev" },
        "metadata": { "source": "github", "priority": "normal", "timestamp": "..." }
      }
    ]
  }
}
```

---

### `events/subscription_expired`

Notification that a subscription has expired due to its `expiresAt` time or `autoExpire` on scheduled delivery.

```json
{
  "jsonrpc": "2.0",
  "method": "events/subscription_expired",
  "params": {
    "subscriptionId": "550e8400-e29b-41d4-a716-446655440000"
  }
}
```

---

## Protocol Methods Summary

| Category | Method/Tool | Direction | Purpose |
|----------|-------------|-----------|---------|
| Discovery | `initialize` (capability) | Client ← Server | Advertise events support |
| Subscribe | `events_subscribe` | Client → Server | Create subscription |
| Manage | `events_unsubscribe` | Client → Server | Remove subscription |
| Manage | `events_list` | Client → Server | List subscriptions |
| Manage | `events_pause` | Client → Server | Pause subscription |
| Manage | `events_resume` | Client → Server | Resume subscription |
| Manage | `events_update` | Client → Server | Modify subscription |
| Deliver | `events/event` | Client ← Server | Single event notification |
| Deliver | `events/batch` | Client ← Server | Batch event notification |
| Lifecycle | `events/subscription_expired` | Client ← Server | Expiration notification |
